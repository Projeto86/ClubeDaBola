(function(){var C,D;var B;scheduler.config.collision_limit=1;scheduler.attachEvent("onBeforeDrag",function(F){var E=scheduler._props?scheduler._props[this._mode]:null;if(E&&F){C=this.getEvent(F)[E.map_to];D=this.getEvent(F).start_date}return true});scheduler.attachEvent("onBeforeLightbox",function(F){var E=scheduler.getEvent(F);B=[E.start_date,E.end_date];return true});scheduler.attachEvent("onEventChanged",function(F){if(!F){return true}var E=scheduler.getEvent(F);if(!A(E)){if(!B){return false}E.start_date=B[0];E.end_date=B[1];E._timed=this.is_one_day_event(E)}return true});scheduler.attachEvent("onBeforeEventChanged",function(E,F,G){return A(E)});function A(H){var E=scheduler.getEvents(H.start_date,H.end_date);var J=scheduler._props?scheduler._props[this._mode]:null;var I=true;if(J){var G=0;for(var F=0;F<E.length;F++){if(E[F][J.map_to]==H[J.map_to]){G++}}if(G>scheduler.config.collision_limit){this._drag_event.start_date=D;H[J.map_to]=C;I=false}}else{if(E.length>scheduler.config.collision_limit){I=false}}if(!I){return !scheduler.callEvent("onEventCollision",[H,E])}return I}})();